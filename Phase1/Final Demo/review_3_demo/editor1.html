	<!DOCTYPE html>
	<html lang="en">
	<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="style.css">
	<title>Automated Parallelisation</title>
	<style type="text/css" media="screen">
		#editor
		{
			position: absolute;
			top : 115px;
			bottom : 105px;
			border : 1.2px solid #ece8e1;
			/* border : 0.8px solid #ff4655; */
			padding : 5px;
		}
		#output
		{
			position: absolute;
			top : 115px;
			bottom : 105px;
			border : 1.2px solid #ece8e1;
			/* border : 0.8px solid #ff4655; */
			padding : 5px;
		}
		.primary
		{
		position : relative;
		top : 5px;
		left : 20px;
		font-weight : bold;
		}
		.outline
		{
		position : relative;
		left : 35px;
		font-weight : bold;
		top: 5px;
		}
		#pes_logo
		{
		position : absolute;
		top : 30px;
		right : 20px;
		/* border-left: 3px solid #3db166; */
		/* border-left: 6px solid #ff4655; */
		/* border-top: 0.5px solid #ff4655;
		border-bottom: 0.5px solid #ff4655; */
		}
		#pes_logo:hover
		{
		cursor : pointer;
		/* background-color: #271500; */
		}
	</style>
	</head>
	<body>
	<div id="loader" class="nfLoader" style = "display : None;"></div>
	<div id = "body">
	<script>
	$(window).load(function()
	{
		$("#loader").hide();
		$("#body").show();
	});
	</script>

	<script>
		function downloadCode()
		{
			var output1 = ace.edit("output");
			var lines = output1.session.doc.getAllLines();
			var code1 = "";
			for(var i = 0; i < lines.length; ++i)
			{
				code1 = code1 + lines[i] + "\n";
			}
			var ele = document.createElement('a');
			ele.style.display = 'None';
			ele.setAttribute('href','data:text/plain; charset = utf-8,' + encodeURIComponent(code1));
			ele.setAttribute('download','par_output.cpp');
			document.body.appendChild(ele);
			ele.click();
			document.body.removeChild(ele);
		}


	</script>

	<script>
		function parallelise1Code()
		{
			var editor1 = ace.edit("editor");
			var lines = editor1.session.doc.getAllLines();
			var code1 = "";
			var opt_code = "";
			for(var i = 0; i < lines.length; ++i)
			{
				code1 = code1 + lines[i] + "\n";
			}
			$.ajax
			(
				{
					url : "demo1.php",
					method : 'POST',
					data : {code : code1},
					beforeSend : function()
					{
						$('#loader').addClass("dim");
						$('#loader').show();
					},
					success : function(res)
					{
						console.log(res);
						var op_ele = document.getElementById("output");
						var op_editor = ace.edit(op_ele);
						res = '// parallelized code\n\n' + res;
						op_editor.session.setValue(res);
						var download_button = document.getElementById("download");
						$('#download').show();
						$('#run_rhs_1').show();
					},
					complete : function()
					{
						$('#loader').hide();
						$('#body').show();
					},
					error: function(jqXHR, textStatus, errorThrown)
					{
						console.log(textStatus, errorThrown);
					}
				}
			);

		}








		// function parallelise2Code()
		// {
		// 	var editor1 = ace.edit("editor");
		// 	var lines = editor1.session.doc.getAllLines();
		// 	var code1 = "";
		// 	var opt_code = "";
		// 	for(var i = 0; i < lines.length; ++i)
		// 	{
		// 		code1 = code1 + lines[i] + "\n";
		// 	}
		// 	$.ajax
		// 	(
		// 		{
		// 			url : "demo2.php",
		// 			method : 'POST',
		// 			data : {code : code1},
		// 			beforeSend : function()
		// 			{
		// 				$('#body').hide();
		// 				$('#loader').show();
		// 			},
		// 			success : function(res)
		// 			{
		// 				console.log(res);
		// 				var op_ele = document.getElementById("output");
		// 				var op_editor = ace.edit(op_ele);
		// 				res = '// parallel algorithm\n\n' + res;
		// 				op_editor.session.setValue(res);
		// 				var download_button = document.getElementById("download");
		// 				$('#download').show();
		// 				$('#run_rhs_1').show();
		// 			},
		// 			complete : function()
		// 			{
		// 				$('#loader').hide();
		// 				$('#body').show();
		// 			},
		// 			error: function(jqXHR, textStatus, errorThrown)
		// 			{
		// 				console.log(textStatus, errorThrown);
		// 			}
		// 		}
		// 	);

		// }






		function parallelise3Code()
		{
		var editor1 = ace.edit("editor");
		var lines = editor1.session.doc.getAllLines();
		var code1 = "";
		var opt_code = "";
		for(var i = 0; i < lines.length; ++i)
		{
			code1 = code1 + lines[i] + "\n";
		}
		$.ajax
		(
			{
				url : "demo3.php",
				method : 'POST',
				data : {code : code1},
				beforeSend : function()
				{
					// $('#body').hide();
					$('#loader').show();
				},
				success : function(res)
				{
					console.log(res);
					var op_ele = document.getElementById("output");
					var op_editor = ace.edit(op_ele);
					res = '// parallel algorithm\n\n' + res;
					op_editor.session.setValue(res);
					var download_button = document.getElementById("download");
					$('#download').show();
					$('#run_rhs_2').show();
				},
				complete : function()
				{
					$('#loader').hide();
					$('#body').show();
				},
				error: function(jqXHR, textStatus, errorThrown)
				{
					console.log(textStatus, errorThrown);
				}
			}
		);

		}









		function runlhsCode()
		{
		var output1 = ace.edit("editor");
		var lines = output1.session.doc.getAllLines();
		var code1 = "";
		var opt_code = "";
		for(var i = 0; i < lines.length; ++i)
		{
			code1 = code1 + lines[i] + "\n";
		}
		$.ajax
		(
			{
				url : "runlhs.php",
				method : 'POST',
				data : {code : code1},
				beforeSend : function()
				{
					// $('#body').hide();
					$('#loader').show();
				},
				success : function(res)
				{
					console.log(res);
					var op_ele = document.getElementById("editor");
					var op_output = ace.edit(op_ele);
					res = '// output\n\n' + res;
					op_output.session.setValue(res);
					// var download_button = document.getElementById("download");
					// $('#download').show();
				},
				complete : function()
				{
					$('#loader').hide();
					$('#body').show();
				},
				error: function(jqXHR, textStatus, errorThrown)
				{
					console.log(textStatus, errorThrown);
				}
			}
		);

		}



		function runrhsCode1()
		{
		var output1 = ace.edit("output");
		var lines = output1.session.doc.getAllLines();
		var code1 = "";
		var opt_code = "";
		for(var i = 0; i < lines.length; ++i)
		{
			code1 = code1 + lines[i] + "\n";
		}
		$.ajax
		(
			{
				url : "runrhs1.php",
				method : 'POST',
				data : {code : code1},
				beforeSend : function()
				{
					// $('#body').hide();
					$('#loader').show();
				},
				success : function(res)
				{
					console.log(res);
					var op_ele = document.getElementById("output");
					var op_output = ace.edit(op_ele);
					res = '// Result\n\n' + res;
					op_output.session.setValue(res);
					var download_button = document.getElementById("download");
					$('#download').show();
				},
				complete : function()
				{
					$('#loader').hide();
					$('#body').show();
				},
				error: function(jqXHR, textStatus, errorThrown)
				{
					console.log(textStatus, errorThrown);
				}
			}
		);

		}


		function runrhsCode2()
		{
		var output1 = ace.edit("output");
		var lines = output1.session.doc.getAllLines();
		var code1 = "";
		var opt_code = "";
		for(var i = 0; i < lines.length; ++i)
		{
			code1 = code1 + lines[i] + "\n";
		}
		$.ajax
		(
			{
				url : "runrhs2.php",
				method : 'POST',
				data : {code : code1},
				beforeSend : function()
				{
					// $('#body').hide();
					$('#loader').show();
				},
				success : function(res)
				{
					console.log(res);
					var op_ele = document.getElementById("output");
					var op_output = ace.edit(op_ele);
					res = '// Result\n\n' + res;
					op_output.session.setValue(res);
					var download_button = document.getElementById("download");
					$('#download').show();
				},
				complete : function()
				{
					$('#loader').hide();
					$('#body').show();
				},
				error: function(jqXHR, textStatus, errorThrown)
				{
					console.log(textStatus, errorThrown);
				}
			}
		);

		}







		function resetCode()
		{
			$("#body").hide();
			$("#loader").show();
			location.reload();
		}
		function goToWebsite()
		{
			window.open("http://www.pes.edu/");
		}
	</script>









	<div>
	<p id = "par_buttons">
		<button class="btn primary" type="button" onclick = "parallelise1Code()" align = "left">
			<!-- <div class="label">
				<span class="hover-effect"></span>
				<span class="label-text">Parallel-1</span>
			</div> -->
			  <div class="label">
				<svg width="180px" height="60px" viewBox="0 0 180 60" class="border">
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
			  </svg>
				<div class="label-text">Method-1</div>
			</div>
		</button>

		<button class="btn primary" type="button" onclick = "parallelise3Code()" align = "left">
			<!-- <div class="label">
			<span class="hover-effect"></span>
			<span class="label-text">Parallel-3</span>
			</div> -->
						  <div class="label">
				<svg width="180px" height="60px" viewBox="0 0 180 60" class="border">
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
			  </svg>
				<div class="label-text">Method-2</div>
			</div>
		</button>
		<button class="outline" type="button" onclick = "resetCode()">
			<div class="label">
				<span class="hover-effect"></span>
				<span class="label-text">Reset</span>
			</div>
		</button>
</p>
<p>
	<div onclick = "goToWebsite()">
		<!-- background : #0f1923; -->
		<img id = "pes_logo" src = "pes_logo.png"></img>
	</div>
</p>
	
<p>
	<div style="color: #ff4655;position: absolute;left: 29%;  top: 10px; font-size: 18px;">
		<fieldset>
			<legend>LEGEND</legend>
			Method-1 : Inter and Intra Function Parallelism through AST Querying and Replacement with OpenMP Directives
			<br>
			Method-2 : Optimised Thread Scheduling for Functions using Master-Worker based approach to achieve Function Level Parallelism
		</fieldset></div>
</p>
</div>
	<div id = "IDE">
	<div id="editor" style = 'float : left; width: 47.5%; font-size : 24px; left:20px'>
#include &lt;stdio.h&gt;
#include &lt;sys/time.h&gt;
#include &lt;stdlib.h&gt;

double mean(const int* a1, int n1)
{
	double mean = 0;
	for(int i = 0;i &lt; n1;++i)
	{
		mean += a1[i];
	}
	mean /= n1;
	return mean;
}

void sort(int* arr,const int arr_n)
{
	for(int i = 0;i &lt; arr_n-1;++i)
	{
		int min = i;
		for(int j = i+1;j &lt; arr_n;++j)
		{
			if(arr[j] &lt; arr[min])
			{
				min = j;
			}
		}
		int temp = arr[i];
		arr[i] = arr[min];
		arr[min] = temp;
	}
}


int my_max(int* a4, int n4)
{
	int max = a4[0];
	for(int i = 1; i &lt; n4; ++i)
	{
		if(a4[i]&gt;max)
		{
			max = a4[i];
		}
	}

	printf("Max : %d\n", max);
	return 1;
}

int my_min(int* a4, int n4)
{
	int min = a4[0];
	for(int i = 1; i&lt;n4; ++i)
	{
		if(a4[i]&lt;min)
		{
			min = a4[i];
		}
	}

	printf("Min : %d\n", min);
	return 1;
}



int main(int argc, char** argv)
{

	struct timeval stop, start;
    gettimeofday(&start, NULL);

	int input_n = 30000;
	int *arr1 = (int *)malloc(input_n * sizeof(int));
    int array_size1 = input_n;
    srand(8);
    for(int i = 0; i &lt; array_size1; ++i)
    {    
        arr1[i] = rand();
    }

	int *arr2 = (int *)malloc(input_n * sizeof(int));
    int array_size2 = input_n;
    srand(2);
    for(int i = 0; i &lt; array_size2; ++i)
    {    
        arr2[i] = rand();
    }

	int n = array_size1;

	sort(arr1, n);
	my_min(arr1, n);
	my_max(arr1, n);


}

		
		
	</div>
	<div id="output" style = 'float : right; width: 47.5%; font-size : 24px; right:20px'>
	</div>
	</div>
	<div id = "download" style = "position : absolute; bottom : 0px; right : 20px; display: none;" onclick = "downloadCode()">
	<div>
		<button class="btn">
		<span class="btn__inner">
			<span class="btn__slide"></span>
			<span class="btn__content">Download</span>
		</span>
		</button>
	</div>
	</div>

	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-header">
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			  <h4 class="modal-title" id="myModalLabel">Modal title</h4>
			</div>
			<div class="modal-body">
			  ...
			</div>
			<div class="modal-footer">
			  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			  <button type="button" class="btn btn-primary">Save changes</button>
			</div>
		  </div>
		</div>
	  </div>
	
	<div id = "upload" style = "position : absolute; bottom : 0px; left : 20px; display: show;" onclick = "uploadCode()">
		<div>
		<input style = "display: none;" type="file" id="input-file">
		<button class="btn">
				<span class="btn__content">Upload</span>
			</button>
		</div>
		</div>
		<div style = "position : absolute; bottom : 5px; left : 200px; display: show;">
		<button class="btn primary" type="button"  onclick = "runlhsCode()" align = "left" >
			<!-- <div class="label">
			<span class="hover-effect"></span>
			<span class="label-text">Parallel-3</span>
			</div> -->
						  <div class="label">
				<svg width="180px" height="60px" viewBox="0 0 180 60" class="border">
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
			  </svg>
				<div class="label-text">Run</div>
			</div>
		</button>
	</div>


	<div id = "run_rhs_1" style = "position : absolute; bottom : 5px; right : 240px; display: none;">
		<button class="btn primary" type="button"  onclick = "runrhsCode1()" align = "left" >
			<!-- <div class="label">
			<span class="hover-effect"></span>
			<span class="label-text">Parallel-3</span>
			</div> -->
						  <div class="label">
				<svg width="180px" height="60px" viewBox="0 0 180 60" class="border">
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
			  </svg>
				<div class="label-text">Run</div>
			</div>
		</button>
	</div>

	<div id = "run_rhs_2" style = "position : absolute; bottom : 5px; right : 240px; display: none;">
		<button class="btn primary" type="button"  onclick = "runrhsCode2()" align = "left" >
			<!-- <div class="label">
			<span class="hover-effect"></span>
			<span class="label-text">Parallel-3</span>
			</div> -->
						  <div class="label">
				<svg width="180px" height="60px" viewBox="0 0 180 60" class="border">
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="bg-line" />
				<polyline points="179,1 179,59 1,59 1,1 179,1" class="hl-line" />
			  </svg>
				<div class="label-text">Run</div>
			</div>
		</button>
	</div>

	<script src="ace.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var editor = ace.edit("editor");
		editor.setTheme("ace/theme/tomorrow_night_blue");
		editor.session.setMode("ace/mode/c_cpp");

		var output = ace.edit("output");
		output.setTheme("ace/theme/tomorrow_night_blue");
		output.session.setMode("ace/mode/c_cpp");




        function uploadCode() {
            document.getElementById("input-file").click();
        };




		document.getElementById('input-file').addEventListener('change', getFile)

		function getFile(event) 
		{	
			console.log("here");
			const input = event.target;
			console.log(input.files[0]);
			placeFileContent(ace.edit("editor"),input.files[0]);
		}

		function placeFileContent(target, file) 
		{
			readFileContent(file).then(content => {target.setValue(content)}).catch(error => console.log(error));
			console.log("here");
		}

		function readFileContent(file) 
		{
			const reader = new FileReader()
			return new Promise((resolve, reject) => 
			{
				reader.onload = event => resolve(event.target.result)
				reader.onerror = error => reject(error)
				reader.readAsText(file)
			})
		}

		$('#myModal').hide();




	</script>
	</body>
	</html>
